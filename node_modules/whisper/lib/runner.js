(function(){
  var Promise, ref$, allTasks, resolve, makeError, run, slice$ = [].slice;
  Promise = require('cassie').Promise;
  ref$ = require('./tasks'), allTasks = ref$.allTasks, resolve = ref$.resolve;
  makeError = require('flaw');
  run = function(env, name){
    var args, ref$;
    args = slice$.call(arguments, 2);
    switch (false) {
    case !(name in allTasks):
      return (ref$ = resolve(name)).execute.apply(ref$, [env].concat(slice$.call(args)));
    default:
      return Promise.make().fail(inexistentTaskE(name));
    }
  };
  module.exports = {
    run: run
  };
}).call(this);
